# Streamlit UI - JAXA Earth API MCP Interface

Appleデザインの自然言語インターフェースで、JAXA Earth APIのMCP機能を実行できます。

## 機能

- 🌍 **自然言語入力**: 日本語または英語でリクエストを入力
- 🔍 **コレクション検索**: キーワードでデータセットを検索
- 🖼️ **画像取得**: 衛星画像を取得して表示
- 📊 **空間統計**: データの統計情報を計算
- 🗺️ **高度マップ生成**: 3D地形用の高度マップを生成
- 📝 **計画作成**: タスクの実装計画を作成

## セットアップ

### 1. 依存関係のインストール

```bash
cd jaxa-earth-mcp
uv sync
```

### 2. Streamlitアプリの起動

```bash
# 方法1: 直接起動
uv run streamlit run streamlit_app.py

# 方法2: 起動スクリプトを使用
uv run python run_streamlit.py
```

### 3. ブラウザでアクセス

アプリが起動すると、自動的にブラウザが開きます。開かない場合は、以下のURLにアクセスしてください：

```
http://localhost:8501
```

## 使い方

### 基本的な使い方

1. **自然言語でリクエストを入力**
   - 例: "富士山周辺の標高データを取得して、高度マップを生成してください"
   - 例: "温度データを検索してください"
   - 例: "関東地方の衛星画像を表示してください"

2. **実行ボタンをクリック**
   - 自動的に適切なMCPツールが選択され、実行されます

3. **結果を確認**
   - 画像、統計情報、グラフなどが表示されます

### 利用可能な機能

#### コレクション検索
```
"温度データを検索"
"LSTデータを探す"
"標高データのコレクションを検索"
```

#### 画像取得
```
"富士山周辺の衛星画像を表示"
"関東地方の標高データを取得"
```

#### 空間統計
```
"富士山周辺の標高統計を計算"
"温度データの統計情報を取得"
```

#### 高度マップ生成
```
"富士山周辺の高度マップを生成"
"地形データから高度マップを作成"
```

## Appleデザイン

- ミニマルで美しいUI
- スムーズなアニメーション
- レスポンシブデザイン
- 直感的な操作

## トラブルシューティング

### エラー: 必要なライブラリのインポートに失敗

依存関係がインストールされていない可能性があります：

```bash
uv sync
```

### エラー: MCPサーバーの関数が見つからない

`mcp_server.py`が同じディレクトリにあることを確認してください。

### ポートが既に使用されている

別のポートで起動：

```bash
uv run streamlit run streamlit_app.py --server.port=8502
```

## 開発

### カスタマイズ

`streamlit_app.py`を編集して、UIや機能をカスタマイズできます。

### 新しい機能の追加

1. `mcp_server.py`に新しいMCPツールを追加
2. `streamlit_app.py`の`execute_natural_language_request`関数を更新
3. 必要に応じて表示関数を追加

## ライセンス

MIT License
